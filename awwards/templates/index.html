{% extends 'base.html' %}

{% load bootstrap3 %}
{% load static %}


{% block content %}

    <div class="carousel-inner">
      <div class="landingpage" >
        <img src="{% static 'images/landing2.jpg' %}" class="landingpage-img">
        <div class="time">
          <p><span class="text-center"></span>{{date}}</p>
        </div>

        <div class="header">
          <a href="/site/{{caraousel.id}}" style="color:white;text-decoration:none;">
            <h1>{{caraousel.title}}</h1>
          </a>
        </div>
        <div class="page-body">
          <p>BY <span style="color:#49c5b6;text-transform:uppercase;">{{caraousel.username}}</span> WITH 0.75</p>
        </div>

          <div class="middle">
            <div class="circle" id="circle-a">
            	<strong></strong>
              <p class="rating">DESIGN</p>
            </div>
            <div class="circle" id="circle-b">
            	<strong></strong>
              <p class="rating">USABILITY</p>
            </div>
            <div class="circle" id="circle-c">
            	<strong></strong>
              <p class="rating">CREATIVITY</p>
            </div>
            <div class="circle" id="circle-d">
            	<strong></strong>
              <p class="rating">CONTENT</p>
            </div>

          </div>
      </div>
    </div>

<div class="container headers">
    <h4 style="float:left;"><span class="bold" >Sites of the Day</span></h4>
</div>
<div class="pages">
<div class="column">
  {% for winner in winners %}
  <div class="col-xs-4">
    <div class="card">
      <img class="card-img-top img-responsive" src="{{ winner.landing_page.url }}" alt="Card image cap" responsive>
      <div class="card-body">
        <a href="/site/{{ winner.id }}" style="color:black;text-decoration:none;">
          <h5 class="card-title" style="line-height:15px;">{{ winner.title }}</h5>
        </a>
      </div>
      <div class="card-footer ">
        <div class="user-image">
          {% if winner.avatar %}
            <img src="{{ winner.avatar.url }}" class="gallery-image" alt="">
          {% endif %}
          <a href="/user/{{ winner.username }}" style="color:black;text-decoration:none;margin:auto;">
            <p style="font-size: 13px; font-weight: lighter;margin:auto; padding:2px;text-transform: uppercase;">{{ winner.username }}</p>
          </a>
        </div>
      </div>
    </div>
  </div>
{% endfor %}

{% for directory in directories %}
  <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
    <div class="card" style="width: 40.2rem;">
      <img class="card-img-top img-responsive" src="{{ directory.landing_page.url }}" alt="Card image cap" responsive>
      <div class="card-body">
        <a href="/site/{{ directory.id }}" style="color:black;text-decoration:none;">
          <h5 class="card-title" style="line-height:28px;">{{ directory.title }}</h5>
        </a>
        <p class="card-text"><span class="date">{{ directory.post_date }}</span></p>
      </div>
      <div class="card-footer ">
        <div class="user-image">
          {% if directory.avatar %}
            <img src="{{ directory.avatar.url }}" class="gallery-image" alt="" width="8" height="8">
          {% endif %}
          <a href="/user/{{ directory.username }}" style="color:black;text-decoration:none;margin:auto;">
            <p style="font-size: 13px; font-weight: lighter;margin:auto; padding:2px;text-transform: uppercase;">{{ directory.username }}</p>
          </a>
        </div>
      </div>
    </div>
  </div>
{% endfor %}

</div>
</div>


<div class="container headers">
    <h4><span class="bold">Resources <span><i class="glyphicon glyphicon-heart" style="color:#49c5b6"></i></span></span>  Stuff Digital Designers Love!</h4>
</div>

<div class="pages">
<div class="row">
  {% for resource in resources %}
  <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
    <div class="card" style="width: 40.2rem;">
  <img class="card-img-top img-responsive" src="{{resource.landing_page.url}}" alt="Card image cap" responsive>
  <div class="card-body">
    <a href="/site/{{resource.id}}" style="color:black;text-decoration:none;">
      <h5 class="card-title" style="line-height:28px;">{{resource.title}}</h5>
    </a>
  </div>
  <div class="card-footer ">
    <div class="user-image">
    <img src="{{resource.avatar.url}}" class="gallery-image" alt=""  width=8 height=8>
    <a href="/user/{{resource.username}}" style="color:black;text-decoration:none;margin:auto;">
      <p style="font-size: 13px; font-weight: lighter;margin:auto; padding:2px;text-transform: uppercase;">{{resource.username}}</p>
    </a>
  </div>
  </div>
</div>
  </div>
  {% endfor %}

</div>
</div>

<div class="pages">
<div class="row">
  {% for resource in resources2 %}
  <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
    <div class="card" style="width: 40.2rem;">
  <img class="card-img-top img-responsive" src="{{resource.landing_page.url}}" alt="Card image cap" responsive>
  <div class="card-body">
    <a href="/site/{{resource.id}}" style="color:black;text-decoration:none;">
      <h5 class="card-title" style="line-height:28px;">{{resource.title}}</h5>
    </a>
  </div>
  <div class="card-footer ">
    <div class="user-image">
    <img src="{{resource.avatar.url}}" class="gallery-image" alt=""  width=8 height=8>
    <a href="/user/{{resource.username}}" style="color:black;text-decoration:none;margin:auto;">
      <p style="font-size: 13px; font-weight: lighter;margin:auto; padding:2px;text-transform: uppercase;">{{resource.username}}</p>
    </a>
  </div>
  </div>
</div>
  </div>
  {% endfor %}
</div>
</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"> </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-circle-progress/1.1.3/circle-progress.min.js"></script>

<script>

var progressBarOptions = {
	startAngle: -1.55,
	size: 100,
    value: {{caraousel.design}},
    fill: {
		color: 'Chocolate'
	}
}

$('.circle').circleProgress(progressBarOptions).on('circle-animation-progress', function(event, progress, stepValue) {
	$(this).find('strong').text(String((stepValue/10).toFixed(2)));
});

$('#circle-b').circleProgress({
	value : {{caraousel.usability}},
	fill: {
		color: 'Khaki'
	}
});

$('#circle-c').circleProgress({
	value : {{caraousel.creativity}},
	fill: {
		color: 'DarkTurquoise'
	}
});
$('#circle-d').circleProgress({
	value : {{caraousel.content}},
	fill: {
		color: 'SteelBlue'
	}
});

</script>

{% endblock %}